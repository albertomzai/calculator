{"files":[{"name":"DOCUMENTATION.md","code":["# Visión General del Proyecto","Este repositorio alberga una **calculadora web** sencilla pero robusta que separa la lógica de cálculo en el backend y la presentación en un único archivo HTML.","La aplicación se ejecuta con Flask y expone una API REST para evaluar expresiones matemáticas de forma segura, mientras que la interfaz de usuario funciona como una SPA (Single Page Application) construida con HTML/CSS/JavaScript puro.","## Estructura del código","- `app.py` – Punto de entrada que arranca el servidor Flask.","- `backend/` – Paquete que contiene la fábrica de la app (`create_app`) y las rutas API. Dentro se encuentra `routes.py`, donde se define el endpoint `/api/calculate` y la función recursiva `_eval_expr` que utiliza el módulo `ast` para evaluar únicamente operaciones aritméticas permitidas.","- `frontend/` – Carpeta con un único archivo `index.html`. Este documento incluye la lógica de la calculadora, los estilos y las llamadas a la API.","- `tests/` – Pruebas unitarias con Pytest que verifican el correcto funcionamiento del endpoint y la validación de entrada."],"files":[{"name":"Arquitectura del Sistema","code":["## Arquitectura del Sistema\n\n```mermaid\nyarn diagram\nclassDiagram\n    class FlaskApp {\n        +create_app()\n    }\n    class Blueprint {\n        +register_blueprint(bp, url_prefix)\n    }\n    class APIEndpoint {\n        +/api/calculate (POST)\n    }\n    class Evaluator {\n        +_eval_expr(node)\n    }\n    FlaskApp --> Blueprint : registers\n    Blueprint --> APIEndpoint : defines\n    APIEndpoint --> Evaluator : uses\n```\n"]}],"files":[{"name":"Endpoints de la API","code":["## Endpoints de la API\n\n| Método | Ruta           | Descripción                                 |\n|--------|----------------|---------------------------------------------|\n| POST   | `/api/calculate` | Evalúa una expresión matemática enviada en JSON bajo el campo `expression`. Responde con `{ \"result\": <valor> }` o un error. |\n"]}],"files":[{"name":"Instrucciones de Instalación y Ejecución","code":["## Instrucciones de Instalación y Ejecución\n\n1. **Clonar el repositorio**\n   ```bash\n   git clone https://github.com/tu_usuario/calc-web.git\n   cd calc-web\n   ```\n2. **Crear un entorno virtual (opcional pero recomendado)**\n   ```bash\n   python -m venv .venv\n   source .venv/bin/activate  # Windows: .\\.venv\\Scripts\\activate\n   ```\n3. **Instalar dependencias**\n   ```bash\n   pip install -r requirements.txt\n   ```\n4. **Ejecutar la aplicación**\n   ```bash\n   python app.py\n   ```\n5. **Acceder en el navegador**\n   Abre `http://localhost:5000`.\n"]}],"files":[{"name":"Flujo de Datos Clave","code":["## Flujo de Datos Clave\n\n1. El usuario escribe una expresión en la calculadora web y pulsa \"=\".\n2. JavaScript captura el valor, lo envía a `/api/calculate` vía `fetch` con método POST.\n3. Flask recibe la petición, extrae `expression`, valida su tipo y parsea con `ast.parse`.\n4. `_eval_expr` recorre el AST evaluando solo operadores permitidos (`+ - * / **`).\n5. El resultado (o error) se devuelve como JSON a la SPA.\n6. La SPA muestra el resultado en la pantalla.\n"]}],"files":[{"name":"Extensiones Futuras","code":["## Extensiones Futuras\n- **Persistencia de historial**: Añadir una base de datos SQLite para almacenar las expresiones evaluadas por cada usuario.\n- **Autenticación**: Implementar JWT o sesiones para que los usuarios puedan iniciar sesión y ver su historial personal.\n- **Soporte de funciones trigonométricas**: Extender `_eval_expr` para aceptar `sin`, `cos`, `tan`, etc., usando el módulo `math`.\n- **UI React/Vue**: Migrar la SPA a un framework moderno para una experiencia más rica y modular.\n"]}]}"}]
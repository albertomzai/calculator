<!DOCTYPE html>
<html lang='es'>
<head><meta charset='UTF-8'><title>Calculadora</title></head>
<body style='display: grid; gap: 10px; padding: 20px'>
  <div id='calculator' style='background: #f0f0f0; border-radius: 10px; padding: 20px; width: 300px'>
    <div id='display'></div>
    <div style='grid-template-columns: repeat(4, 50px)'>
      <button data-testid='btn-c' style='width: 100%'>C</button>
      <button data-testid='btn-div' style='width: 100%'>/</button>
      <button data-testid='btn-mult' style='width: 100%'>*</button>
      <button data-testid='btn-eq' style='width: 100%'>=</button>
    </div>
    <!-- Other rows for numbers and operators -->
    <script>
      const display = document.getElementById('display');
      const buttons = document.querySelectorAll('button[data-testid]');

      buttons.forEach(btn => {
        btn.addEventListener('click', () => {
          if (btn.dataset.testid === 'btn-eq') {
            const expression = display.textContent;
            fetch('/api/calculate', {
              method: 'POST',
              body: JSON.stringify({expression}),
              headers: {'Content-Type': 'application/json'}
            }).then(res => res.json()).then(data => {
              display.textContent = data.result || 'Error';
            });
          } else if (btn.dataset.testid.startsWith('btn-')) {
            display.textContent += btn.dataset.testid.slice(4);
          }
        });
      });
    </script>
  </div>
</body>
</html>